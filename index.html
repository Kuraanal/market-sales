<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Night Market POS</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <header>
            <div class="header-top">
                <h1>Total Sales</h1>
                <button class="btn-summary" onclick="showSummary()">ðŸ“Š Summary</button>
            </div>
            <div class="total-amount">NT$ <span id="total-sales">0</span></div>
        </header>

        <main class="product-grid" id="product-grid">
            <!-- Products will be generated by JS -->
        </main>

        <button class="fab" aria-label="Add New Item" onclick="toggleModal()">
            +
        </button>

        <!-- Add Item Modal -->
        <div id="add-item-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Add New Item</h2>
                <div class="form-group">
                    <label>Item Name</label>
                    <input type="text" id="new-item-name" placeholder="e.g. Apple Pie">
                </div>
                <div class="form-group">
                    <label>Icon (tap to use emoji keyboard)</label>
                    <input type="text" id="selected-icon" value="âœ¨" maxlength="2" placeholder="âœ¨"
                        style="font-size: 2rem; text-align: center;">
                </div>
                <div class="form-group">
                    <label>Price (NT$)</label>
                    <input type="number" id="new-item-price" placeholder="e.g. 100">
                </div>
                <div class="modal-actions">
                    <button class="btn-cancel" onclick="toggleModal()">Cancel</button>
                    <button class="btn-add" onclick="addNewItem()">Add Item</button>
                </div>
            </div>
        </div>

        <!-- Summary Modal -->
        <div id="summary-modal" class="modal hidden">
            <div class="modal-content">
                <h2>End of Night Summary</h2>
                <div id="summary-list" class="summary-list">
                    <!-- Summary items will be generated here -->
                </div>
                <div class="summary-total">
                    <span>Grand Total:</span>
                    <span id="summary-grand-total">NT$ 0</span>
                </div>
                <div class="modal-actions">
                    <button class="btn-cancel" onclick="toggleSummary()">Close</button>
                    <button class="btn-danger" onclick="endDay()">End Day & Clear</button>
                </div>
            </div>
        </div>

        <!-- Confirm Modal -->
        <div id="confirm-modal" class="modal hidden">
            <div class="modal-content">
                <h2>End Day?</h2>
                <p style="margin-bottom: 20px; color: var(--text-muted);">Are you sure you want to end the day? This
                    will clear all sales data.</p>
                <div class="modal-actions">
                    <button class="btn-cancel" onclick="toggleConfirm()">Cancel</button>
                    <button class="btn-danger" onclick="processEndDay()">Yes, End Day</button>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>